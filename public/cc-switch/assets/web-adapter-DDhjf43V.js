const n="/api/config",s="/api/cc-switch";async function p(_,e){const r=i(_,e);try{if(r.url==="__mock__")switch(_){case"check_env_conflicts":return[];case"check_for_updates":return;case"get_version":return"3.8.2-web";case"is_portable_mode":case"is_proxy_running":case"is_live_takeover_active":return!1;case"get_config_dir":case"get_claude_code_config_path":case"get_app_config_path":return"/mock/path";case"get_app_config_dir_override":return null;case"set_app_config_dir_override":case"apply_claude_plugin_config":case"sync_current_providers_live":case"restart_app":case"stop_proxy_with_restore":case"import_default_config":return!0;case"get_proxy_status":return{running:!1,port:0,address:"127.0.0.1"};case"start_proxy_with_takeover":return{port:3e3,address:"127.0.0.1"};case"switch_proxy_provider":return;case"get_skills":case"get_skills_for_app":return[];case"get_skill_repos":return[];case"get_settings":return{showInTray:!0,minimizeToTrayOnClose:!1,enableClaudePluginIntegration:!1,launchOnStartup:!1,language:"zh",claudeConfigDir:"",codexConfigDir:"",geminiConfigDir:"",currentProviderClaude:"",currentProviderCodex:"",currentProviderGemini:""};case"save_settings":return!0;case"get_tool_versions":return[];case"get_usage_summary":return{totalRequests:0,totalCost:"0",totalInputTokens:0,totalOutputTokens:0,totalCacheCreationTokens:0,totalCacheReadTokens:0};case"get_usage_trends":return[];case"get_provider_stats":return[];case"get_model_stats":return[];case"get_request_logs":return{logs:[],total:0,page:0,pageSize:20};case"get_request_detail":return null;case"get_model_pricing":return[];case"queryProviderUsage":case"testUsageScript":return{success:!1,message:"Not supported in web mode"};case"check_provider_limits":return{withinLimits:!0,limits:[]};case"update_tray_menu":case"open_external":return!0;case"get_proxy_config":return{enabled:!1,port:3e3,address:"127.0.0.1"};case"update_proxy_config":return!0;case"get_common_config_snippet":case"get_claude_common_config_snippet":return null;case"set_common_config_snippet":case"set_claude_common_config_snippet":return;default:return{}}const o=await fetch(r.url,{method:r.method,headers:{"Content-Type":"application/json"},body:r.body?JSON.stringify(r.body):void 0});if(!o.ok)throw console.error(`[Web Adapter] HTTP error! status: ${o.status}`),new Error(`HTTP error! status: ${o.status}`);const c=await o.json();if(c.success&&c.data!==void 0)switch(_){case"get_providers":if(c.data.providers){const a={};return c.data.providers.forEach(t=>{a[t.id]={id:t.id,name:t.name,settingsConfig:t.settings_config||{},createdAt:t.created_at||Date.now(),sortIndex:t.sort_index||0,category:t.category,icon:t.icon,iconColor:t.icon_color,websiteUrl:t.website_url,notes:t.notes,meta:t.meta||{}}}),a}return c.data;case"get_current_provider":return c.data.current;default:return c.data}return c}catch(o){throw console.error(`Failed to invoke ${_}:`,o),o}}async function u(_,e){return()=>{}}function i(_,e){var r;switch(e!=null&&e.app,_){case"get_providers":return{url:`${s}/providers?app=${(e==null?void 0:e.app)||"claude"}`,method:"GET"};case"get_current_provider":return{url:`${s}/current?app=${(e==null?void 0:e.app)||"claude"}`,method:"GET"};case"add_provider":return{url:`${s}/add`,method:"POST",body:{provider:e==null?void 0:e.provider,app:(e==null?void 0:e.app)||"claude"}};case"update_provider":return{url:`${s}/update/${(r=e==null?void 0:e.provider)==null?void 0:r.id}`,method:"PUT",body:{provider:e==null?void 0:e.provider,app:(e==null?void 0:e.app)||"claude"}};case"delete_provider":return{url:`${s}/delete/${e==null?void 0:e.id}?app=${(e==null?void 0:e.app)||"claude"}`,method:"DELETE"};case"switch_provider":return{url:`${s}/switch`,method:"POST",body:{provider_id:e==null?void 0:e.id,app:(e==null?void 0:e.app)||"claude"}};case"get_settings":case"save_settings":return{url:"__mock__",method:"GET"};case"get_templates":return{url:`${n}/templates`,method:"GET"};case"health_check":return{url:`${n}/health`,method:"GET"};case"check_env_conflicts":case"check_for_updates":case"get_version":case"is_portable_mode":case"get_config_dir":case"open_config_folder":case"pick_directory":case"get_claude_code_config_path":case"get_app_config_path":case"open_app_config_folder":case"get_app_config_dir_override":case"set_app_config_dir_override":case"apply_claude_plugin_config":case"save_file_dialog":case"open_file_dialog":case"export_config_to_file":case"import_config_from_file":case"import_default_config":case"sync_current_providers_live":case"restart_app":case"get_proxy_status":case"is_proxy_running":case"is_live_takeover_active":case"start_proxy_with_takeover":case"stop_proxy_with_restore":case"switch_proxy_provider":case"get_skills":case"get_skills_for_app":case"get_skill_repos":case"add_skill_repo":case"remove_skill_repo":case"install_skill":case"uninstall_skill":case"get_tool_versions":case"update_tray_menu":case"open_external":case"get_proxy_config":case"update_proxy_config":case"get_common_config_snippet":case"get_claude_common_config_snippet":case"set_common_config_snippet":case"set_claude_common_config_snippet":case"get_usage_summary":case"get_usage_trends":case"get_provider_stats":case"get_model_stats":case"get_request_logs":case"get_request_detail":case"get_model_pricing":case"update_model_pricing":case"delete_model_pricing":case"queryProviderUsage":case"testUsageScript":case"check_provider_limits":return{url:"__mock__",method:"GET"};default:return{url:"__mock__",method:"GET"}}}export{p as invoke,u as listen};

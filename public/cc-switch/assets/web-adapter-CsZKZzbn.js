const i="/api/config",a="/api/cc-switch";async function p(c,e){const o=s(c,e);try{if(o.url==="__mock__")switch(c){case"check_env_conflicts":return[];case"check_for_updates":return;case"get_version":return"3.8.2-web";case"is_portable_mode":case"is_proxy_running":case"is_live_takeover_active":return!1;case"get_config_dir":case"get_claude_code_config_path":case"get_app_config_path":return"/mock/path";case"get_app_config_dir_override":return null;case"set_app_config_dir_override":case"apply_claude_plugin_config":case"sync_current_providers_live":case"restart_app":case"stop_proxy_with_restore":case"import_default_config":return!0;case"get_proxy_status":return{running:!1,port:0,address:"127.0.0.1"};case"start_proxy_with_takeover":return{port:3e3,address:"127.0.0.1"};case"switch_proxy_provider":return;case"get_skills":case"get_skills_for_app":return[];case"get_skill_repos":return[];case"get_settings":return{theme:"system",language:"zh",autoStart:!1,minimizeToTray:!1};case"get_tool_versions":return[];case"update_tray_menu":case"open_external":return!0;case"get_proxy_config":return{enabled:!1,port:3e3,address:"127.0.0.1"};case"update_proxy_config":return!0;default:return{}}const r=await fetch(o.url,{method:o.method,headers:{"Content-Type":"application/json"},body:o.body?JSON.stringify(o.body):void 0});if(!r.ok)throw console.error(`[Web Adapter] HTTP error! status: ${r.status}`),new Error(`HTTP error! status: ${r.status}`);const _=await r.json();if(_.success&&_.data!==void 0)switch(c){case"get_providers":if(_.data.providers){const n={};return _.data.providers.forEach(t=>{n[t.id]={id:t.id,name:t.name,settingsConfig:t.settings_config||{},createdAt:t.created_at||Date.now(),sortIndex:t.sort_index||0,category:t.category,icon:t.icon,iconColor:t.icon_color,websiteUrl:t.website_url,notes:t.notes,meta:t.meta||{}}}),n}return _.data;case"get_current_provider":return _.data.current;default:return _.data}return _}catch(r){throw console.error(`Failed to invoke ${c}:`,r),r}}async function d(c,e){return()=>{}}function s(c,e){var o;switch(e!=null&&e.app,c){case"get_providers":return{url:`${a}/providers?app=${(e==null?void 0:e.app)||"claude"}`,method:"GET"};case"get_current_provider":return{url:`${a}/current?app=${(e==null?void 0:e.app)||"claude"}`,method:"GET"};case"add_provider":return{url:`${a}/add`,method:"POST",body:{provider:e==null?void 0:e.provider,app:(e==null?void 0:e.app)||"claude"}};case"update_provider":return{url:`${a}/update/${(o=e==null?void 0:e.provider)==null?void 0:o.id}`,method:"PUT",body:{provider:e==null?void 0:e.provider,app:(e==null?void 0:e.app)||"claude"}};case"delete_provider":return{url:`${a}/delete/${e==null?void 0:e.id}?app=${(e==null?void 0:e.app)||"claude"}`,method:"DELETE"};case"switch_provider":return{url:`${a}/switch`,method:"POST",body:{provider_id:e==null?void 0:e.id,app:(e==null?void 0:e.app)||"claude"}};case"get_settings":return{url:`${i}/settings`,method:"GET"};case"save_settings":return{url:`${i}/settings`,method:"PUT",body:e==null?void 0:e.settings};case"get_templates":return{url:`${i}/templates`,method:"GET"};case"health_check":return{url:`${i}/health`,method:"GET"};case"check_env_conflicts":case"check_for_updates":case"get_version":case"is_portable_mode":case"get_config_dir":case"open_config_folder":case"pick_directory":case"get_claude_code_config_path":case"get_app_config_path":case"open_app_config_folder":case"get_app_config_dir_override":case"set_app_config_dir_override":case"apply_claude_plugin_config":case"save_file_dialog":case"open_file_dialog":case"export_config_to_file":case"import_config_from_file":case"import_default_config":case"sync_current_providers_live":case"restart_app":case"get_proxy_status":case"is_proxy_running":case"is_live_takeover_active":case"start_proxy_with_takeover":case"stop_proxy_with_restore":case"switch_proxy_provider":case"get_skills":case"get_skills_for_app":case"get_skill_repos":case"add_skill_repo":case"remove_skill_repo":case"install_skill":case"uninstall_skill":case"get_tool_versions":case"update_tray_menu":case"open_external":case"get_proxy_config":case"update_proxy_config":return{url:"__mock__",method:"GET"};default:return{url:"__mock__",method:"GET"}}}export{p as invoke,d as listen};
